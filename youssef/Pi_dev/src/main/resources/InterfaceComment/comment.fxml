<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.control.ComboBox?>

<AnchorPane fx:id="rootPane" prefHeight="500.0" prefWidth="800.0" stylesheets="@../styles/comment.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.pi_dev.controllers.CommentController.CommentController">
   <children>
      <!-- Nav Bar -->
      <HBox alignment="CENTER_LEFT" prefHeight="60.0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0" style="-fx-background-color: #03045F;">
         <children>
            <!-- Eventopia Logo -->
            <Label style="-fx-text-fill: white; -fx-font-size: 30px;-fx-padding: 0 0 0 15px; -fx-font-weight: bold;" text="Eventopia" />
         </children>
      </HBox>

      <!-- Five-star rating system -->
      <HBox alignment="CENTER_LEFT" spacing="10" AnchorPane.topAnchor="95.0" AnchorPane.leftAnchor="20.0">
         <children>
            <!-- Label above the stars -->
            <Label style="-fx-font-weight: bold;" text="Give Rate:">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            <!-- *********** the stars ********* -->
            <Text fx:id="star1" onMouseClicked="#rate1" style="-fx-fill: gold;" text="☆">
               <font>
                  <Font name="System Bold" size="30.0" />
               </font>
            </Text>
            <Text fx:id="star2" onMouseClicked="#rate2" style="-fx-fill: gold;" text="☆">
               <font>
                  <Font name="System Bold" size="30.0" />
               </font>
            </Text>
            <Text fx:id="star3" onMouseClicked="#rate3" style="-fx-fill: gold;" text="☆">
               <font>
                  <Font name="System Bold" size="30.0" />
               </font>
            </Text>
            <Text fx:id="star4" onMouseClicked="#rate4" style="-fx-fill: gold;" text="☆">
               <font>
                  <Font name="System Bold" size="30.0" />
               </font>
            </Text>
            <Text fx:id="star5" onMouseClicked="#rate5" style="-fx-fill: gold;" text="☆">
               <font>
                  <Font name="System Bold" size="30.0" />
               </font>
            </Text>
         </children>
      </HBox>

      <!-- Label for average rate -->
      <Label fx:id="avgRateLabel" AnchorPane.topAnchor="78.0" AnchorPane.leftAnchor="20.0" style="-fx-font-weight: bold;" text="Avg Rate: 0.0" textFill="#0000006b">
         <font>
            <Font name="System Bold" size="14.0" />
         </font>
      </Label>

      <!-- Error Label -->
      <Label fx:id="errorLabel" AnchorPane.bottomAnchor="85.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0" textFill="red" visible="false" />

      <!-- Comment Input Field and Send Button -->
      <HBox alignment="CENTER_LEFT" spacing="10" AnchorPane.bottomAnchor="20.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0">
         <children>
            <!-- Comment Input Field -->
            <TextField fx:id="txComment" prefHeight="40.0" prefWidth="600.0" promptText="Write a Comment . . .">
               <font>
                  <Font name="System Bold" size="12.0" />
               </font>
            </TextField>
            <!-- Send Button -->
            <Button mnemonicParsing="false" onAction="#addComment" prefHeight="40.0" prefWidth="100.0" styleClass="button-addComment" text="Send" textAlignment="CENTER">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Button>
         </children>
      </HBox>

      <!-- Sort ComboBox -->
      <ComboBox fx:id="sortComboBox" onAction="#handleSortComboBox" prefWidth="120" promptText="Sort by Date" AnchorPane.rightAnchor="20" AnchorPane.topAnchor="70" />

      <!-- Comment ListView -->
      <VBox AnchorPane.topAnchor="141.0" AnchorPane.bottomAnchor="100.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0" styleClass="vbox-list">
         <children>
            <ListView fx:id="commentListView" />
         </children>
      </VBox>
   </children>
</AnchorPane>